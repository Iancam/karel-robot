<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <meta name="Description" content="YA Karel the robot implementation" />
    <base href="/" />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5/require.min.js"
      integrity="sha256-0SGl1PJNDyJwcV5T+weg2zpEMrh7xvlwO4oXgvZCeZk="
      crossorigin="anonymous"
    ></script>
    <script type="module" src="./src/editor.js"></script>
    <link rel="stylesheet" href="./css/tachyons.css" />
    <link rel="stylesheet" href="./css/utils.css" />
    <title>karel-ide</title>
  </head>
  <body>
    <div id="editor" class="absolute ma4 square b--black ba br2"></div>
    <script src="./src/interpreter.js"></script>
    <karel-ide id="karel" class="w-50 fr"></karel-ide>
    <script type="module">
      import { addEditor } from './src/editor.js';
      let editor = addEditor('editor', {
        language: 'javascript',
        code: `function main(){
      turnLeft()
      move()
      move()
      turnRight()
      putBeeper()
      move()
      move()
    }`,
      });

      async function getCode() {
        return (await editor).getModel().getValue();
      }
      const interpret = _runCode;
      let karel = document.querySelector('#karel');
      karel.getCode = getCode;
      console.log(_runCode);
      karel.interpret = interpret;
    </script>

    <script type="module" src="./src/karel-ide.js"></script>
  </body>
</html>
